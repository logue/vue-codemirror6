/**
 * vue-codemirror6
 *
 * @description CodeMirror6 Component for vue2 and vue3.
 * @author Logue <logue@hotmail.co.jp>
 * @copyright 2022-2025 By Masashi Yoshikawa All rights reserved.
 * @license MIT
 * @version 1.3.22
 * @see {@link https://github.com/logue/vue-codemirror6}
 */

import{L as B,i as D,f as X,c as P,a as te,b as A,s as C,d as w,E as Oe,e as et,g as tt,h as rt,j as nt,k as we,l as ke,m as T,n as lt,P as at,o as ot,p as it,q as st,r as j,t as ut,C as ct,u as dt,v as pt,w as oe,x as mt}from"./codemirror-y-g6rWeI.js";import{p as ft,i as ve,I as xe,j as gt,l as Se,m as ht,n as re,L as bt,e as yt,a as x,o as $,M as Ot,q as wt,N as kt,r as vt,G as xt,S as St,u as Ct,E as Tt,v as At}from"./vendor-BBc_s_YE.js";let _=null;function M(){if(!_&&typeof document=="object"&&document.body){let{style:e}=document.body,n=[],l=new Set;for(let t in e)t!="cssText"&&t!="cssFloat"&&typeof e[t]=="string"&&(/[A-Z]/.test(t)&&(t=t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),l.has(t)||(n.push(t),l.add(t)));_=n.sort().map(t=>({type:"property",label:t,apply:t+": "}))}return _||[]}const ie=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(e=>({type:"class",label:e})),se=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(e=>({type:"keyword",label:e})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(e=>({type:"constant",label:e}))),$t=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(e=>({type:"type",label:e})),Pt=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(e=>({type:"keyword",label:e})),S=/^(\w[\w-]*|-\w[\w-]*|)$/,Lt=/^-(-[\w-]*)?$/;function It(e,n){var l;if((e.name=="("||e.type.isError)&&(e=e.parent||e),e.name!="ArgList")return!1;let t=(l=e.parent)===null||l===void 0?void 0:l.firstChild;return t?.name!="Callee"?!1:n.sliceString(t.from,t.to)=="var"}const ue=new ve,Xt=["Declaration"];function Et(e){for(let n=e;;){if(n.type.isTop)return n;if(!(n=n.parent))return e}}function Ce(e,n,l){if(n.to-n.from>4096){let t=ue.get(n);if(t)return t;let r=[],o=new Set,a=n.cursor(xe.IncludeAnonymous);if(a.firstChild())do for(let s of Ce(e,a.node,l))o.has(s.label)||(o.add(s.label),r.push(s));while(a.nextSibling());return ue.set(n,r),r}else{let t=[],r=new Set;return n.cursor().iterate(o=>{var a;if(l(o)&&o.matchContext(Xt)&&((a=o.node.nextSibling)===null||a===void 0?void 0:a.name)==":"){let s=e.sliceString(o.from,o.to);r.has(s)||(r.add(s),t.push({label:s,type:"variable"}))}}),t}}const qt=e=>n=>{let{state:l,pos:t}=n,r=C(l).resolveInner(t,-1),o=r.type.isError&&r.from==r.to-1&&l.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(o||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:M(),validFor:S};if(r.name=="ValueName")return{from:r.from,options:se,validFor:S};if(r.name=="PseudoClassName")return{from:r.from,options:ie,validFor:S};if(e(r)||(n.explicit||o)&&It(r,l.doc))return{from:e(r)||o?r.from:t,options:Ce(l.doc,Et(r),e),validFor:Lt};if(r.name=="TagName"){for(let{parent:i}=r;i;i=i.parent)if(i.name=="Block")return{from:r.from,options:M(),validFor:S};return{from:r.from,options:$t,validFor:S}}if(r.name=="AtKeyword")return{from:r.from,options:Pt,validFor:S};if(!n.explicit)return null;let a=r.resolve(t),s=a.childBefore(t);return s&&s.name==":"&&a.name=="PseudoClassSelector"?{from:t,options:ie,validFor:S}:s&&s.name==":"&&a.name=="Declaration"||a.name=="ArgList"?{from:t,options:se,validFor:S}:a.name=="Block"||a.name=="Styles"?{from:t,options:M(),validFor:S}:null},jt=qt(e=>e.name=="VariableName"),z=B.define({name:"css",parser:ft.configure({props:[D.add({Declaration:P()}),X.add({"Block KeyframeList":te})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function Nt(){return new A(z,z.data.of({autocomplete:jt}))}const Te=[w("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),w("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),w("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),w("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),w("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),w(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),w("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),w(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),w(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),w('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),w('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Bt=Te.concat([w("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),w("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),w("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),ce=new ve,Ae=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function E(e){return(n,l)=>{let t=n.node.getChild("VariableDefinition");return t&&l(t,e),!0}}const Dt=["FunctionDeclaration"],Qt={FunctionDeclaration:E("function"),ClassDeclaration:E("class"),ClassExpression:()=>!0,EnumDeclaration:E("constant"),TypeAliasDeclaration:E("type"),NamespaceDeclaration:E("namespace"),VariableDefinition(e,n){e.matchContext(Dt)||n(e,"variable")},TypeDefinition(e,n){n(e,"type")},__proto__:null};function $e(e,n){let l=ce.get(n);if(l)return l;let t=[],r=!0;function o(a,s){let i=e.sliceString(a.from,a.to);t.push({label:i,type:s})}return n.cursor(xe.IncludeAnonymous).iterate(a=>{if(r)r=!1;else if(a.name){let s=Qt[a.name];if(s&&s(a,o)||Ae.has(a.name))return!1}else if(a.to-a.from>8192){for(let s of $e(e,a.node))t.push(s);return!1}}),ce.set(n,t),t}const de=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Pe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Rt(e){let n=C(e.state).resolveInner(e.pos,-1);if(Pe.indexOf(n.name)>-1)return null;let l=n.name=="VariableName"||n.to-n.from<20&&de.test(e.state.sliceDoc(n.from,n.to));if(!l&&!e.explicit)return null;let t=[];for(let r=n;r;r=r.parent)Ae.has(r.name)&&(t=t.concat($e(e.state.doc,r)));return{options:t,from:l?n.from:e.pos,validFor:de}}const v=B.define({name:"javascript",parser:gt.configure({props:[D.add({IfStatement:P({except:/^\s*({|else\b)/}),TryStatement:P({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:nt,SwitchBody:e=>{let n=e.textAfter,l=/^\s*\}/.test(n),t=/^\s*(case|default)\b/.test(n);return e.baseIndent+(l?0:t?1:2)*e.unit},Block:rt({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":P({except:/^\s*{/}),JSXElement(e){let n=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)},JSXEscape(e){let n=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)},"JSXOpenTag JSXSelfClosingTag"(e){return e.column(e.node.from)+e.unit}}),X.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":te,BlockComment(e){return{from:e.from+2,to:e.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Le={test:e=>/^JSX/.test(e.name),facet:ke({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Ie=v.configure({dialect:"ts"},"typescript"),Xe=v.configure({dialect:"jsx",props:[we.add(e=>e.isTop?[Le]:void 0)]}),Ee=v.configure({dialect:"jsx ts",props:[we.add(e=>e.isTop?[Le]:void 0)]},"typescript");let qe=e=>({label:e,type:"keyword"});const je="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(qe),zt=je.concat(["declare","implements","private","protected","public"].map(qe));function Ft(e={}){let n=e.jsx?e.typescript?Ee:Xe:e.typescript?Ie:v,l=e.typescript?Bt.concat(zt):Te.concat(je);return new A(n,[v.data.of({autocomplete:et(Pe,tt(l))}),v.data.of({autocomplete:Rt}),e.jsx?Mt:[]])}function Vt(e){for(;;){if(e.name=="JSXOpenTag"||e.name=="JSXSelfClosingTag"||e.name=="JSXFragmentTag")return e;if(e.name=="JSXEscape"||!e.parent)return null;e=e.parent}}function pe(e,n,l=e.length){for(let t=n?.firstChild;t;t=t.nextSibling)if(t.name=="JSXIdentifier"||t.name=="JSXBuiltin"||t.name=="JSXNamespacedName"||t.name=="JSXMemberExpression")return e.sliceString(t.from,Math.min(t.to,l));return""}const _t=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Mt=Oe.inputHandler.of((e,n,l,t,r)=>{if((_t?e.composing:e.compositionStarted)||e.state.readOnly||n!=l||t!=">"&&t!="/"||!v.isActiveAt(e.state,n,-1))return!1;let o=r(),{state:a}=o,s=a.changeByRange(i=>{var d;let{head:u}=i,p=C(a).resolveInner(u-1,-1),f;if(p.name=="JSXStartTag"&&(p=p.parent),!(a.doc.sliceString(u-1,u)!=t||p.name=="JSXAttributeValue"&&p.to>u)){if(t==">"&&p.name=="JSXFragmentTag")return{range:i,changes:{from:u,insert:"</>"}};if(t=="/"&&p.name=="JSXStartCloseTag"){let m=p.parent,g=m.parent;if(g&&m.from==u-2&&((f=pe(a.doc,g.firstChild,u))||((d=g.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let y=`${f}>`;return{range:T.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(t==">"){let m=Vt(p);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(a.doc.sliceString(u,u+2))&&(f=pe(a.doc,m,u)))return{range:i,changes:{from:u,insert:`</${f}>`}}}}return{range:i}});return s.changes.empty?!1:(e.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function Tr(e,n){return n||(n={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((l,t)=>{var r;!((r=l.meta.docs)===null||r===void 0)&&r.recommended&&(n.rules[t]=2)})),l=>{let{state:t}=l,r=[];for(let{from:o,to:a}of v.findRegions(t)){let s=t.doc.lineAt(o),i={line:s.number-1,col:o-s.from,pos:o};for(let d of e.verify(t.sliceDoc(o,a),n))r.push(Jt(d,t.doc,i))}return r}}function me(e,n,l,t){return l.line(e+t.line).from+n+(e==1?t.col-1:-1)}function Jt(e,n,l){let t=me(e.line,e.column,n,l),r={from:t,to:e.endLine!=null&&e.endColumn!=1?me(e.endLine,e.endColumn,n,l):t,message:e.message,source:e.ruleId?"eslint:"+e.ruleId:"eslint",severity:e.severity==1?"warning":"error"};if(e.fix){let{range:o,text:a}=e.fix,s=o[0]+l.pos-t,i=o[1]+l.pos-t;r.actions=[{name:"fix",apply(d,u){d.dispatch({changes:{from:u+s,to:u+i,insert:a},scrollIntoView:!0})}}]}return r}const q=["_blank","_self","_top","_parent"],J=["ascii","utf-8","utf-16","latin1","latin1"],W=["get","post","put","delete"],U=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],k=["true","false"],c={},Wt={a:{attrs:{href:null,ping:null,type:null,media:null,target:q,hreflang:null}},abbr:c,address:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:c,base:{attrs:{href:null,target:q}},bdi:c,bdo:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:U,formmethod:W,formnovalidate:["novalidate"],formtarget:q,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:c,figure:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":J,autocomplete:["on","off"],enctype:U,method:W,novalidate:["novalidate"],target:q}},h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null}},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:U,formmethod:W,formnovalidate:["novalidate"],formtarget:q,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:J,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:J}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strong:c,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:c,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:c},Ne={accesskey:null,class:null,contenteditable:k,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:k,autocorrect:k,autocapitalize:k,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":k,"aria-autocomplete":["inline","list","both","none"],"aria-busy":k,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":k,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":k,"aria-hidden":k,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":k,"aria-multiselectable":k,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":k,"aria-relevant":null,"aria-required":k,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Be="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(e=>"on"+e);for(let e of Be)Ne[e]=null;class N{constructor(n,l){this.tags=Object.assign(Object.assign({},Wt),n),this.globalAttrs=Object.assign(Object.assign({},Ne),l),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}N.default=new N;function L(e,n,l=e.length){if(!n)return"";let t=n.firstChild,r=t&&t.getChild("TagName");return r?e.sliceString(r.from,Math.min(r.to,l)):""}function I(e,n=!1){for(;e;e=e.parent)if(e.name=="Element")if(n)n=!1;else return e;return null}function De(e,n,l){let t=l.tags[L(e,I(n))];return t?.children||l.allTags}function ne(e,n){let l=[];for(let t=I(n);t&&!t.type.isTop;t=I(t.parent)){let r=L(e,t);if(r&&t.lastChild.name=="CloseTag")break;r&&l.indexOf(r)<0&&(n.name=="EndTag"||n.from>=t.firstChild.to)&&l.push(r)}return l}const Qe=/^[:\-\.\w\u00b7-\uffff]*$/;function fe(e,n,l,t,r){let o=/\s*>/.test(e.sliceDoc(r,r+5))?"":">",a=I(l,!0);return{from:t,to:r,options:De(e.doc,a,n).map(s=>({label:s,type:"type"})).concat(ne(e.doc,l).map((s,i)=>({label:"/"+s,apply:"/"+s+o,type:"type",boost:99-i}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function ge(e,n,l,t){let r=/\s*>/.test(e.sliceDoc(t,t+5))?"":">";return{from:l,to:t,options:ne(e.doc,n).map((o,a)=>({label:o,apply:o+r,type:"type",boost:99-a})),validFor:Qe}}function Ut(e,n,l,t){let r=[],o=0;for(let a of De(e.doc,l,n))r.push({label:"<"+a,type:"type"});for(let a of ne(e.doc,l))r.push({label:"</"+a+">",type:"type",boost:99-o++});return{from:t,to:t,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Yt(e,n,l,t,r){let o=I(l),a=o?n.tags[L(e.doc,o)]:null,s=a&&a.attrs?Object.keys(a.attrs):[],i=a&&a.globalAttrs===!1?s:s.length?s.concat(n.globalAttrNames):n.globalAttrNames;return{from:t,to:r,options:i.map(d=>({label:d,type:"property"})),validFor:Qe}}function Zt(e,n,l,t,r){var o;let a=(o=l.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),s=[],i;if(a){let d=e.sliceDoc(a.from,a.to),u=n.globalAttrs[d];if(!u){let p=I(l),f=p?n.tags[L(e.doc,p)]:null;u=f?.attrs&&f.attrs[d]}if(u){let p=e.sliceDoc(t,r).toLowerCase(),f='"',m='"';/^['"]/.test(p)?(i=p[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",m=e.sliceDoc(r,r+1)==p[0]?"":p[0],p=p.slice(1),t++):i=/^[^\s<>='"]*$/;for(let g of u)s.push({label:g,apply:f+g+m,type:"constant"})}}return{from:t,to:r,options:s,validFor:i}}function Re(e,n){let{state:l,pos:t}=n,r=C(l).resolveInner(t,-1),o=r.resolve(t);for(let a=t,s;o==r&&(s=r.childBefore(a));){let i=s.lastChild;if(!i||!i.type.isError||i.from<i.to)break;o=r=s,a=i.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?ge(l,r,r.from,t):fe(l,e,r,r.from,t):r.name=="StartTag"?fe(l,e,r,t,t):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?ge(l,r,t,t):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?Yt(l,e,r,r.name=="AttributeName"?r.from:t,t):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?Zt(l,e,r,r.name=="Is"?t:r.from,t):n.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?Ut(l,e,r,t):null}function Gt(e){return Re(N.default,e)}function Ht(e){let{extraTags:n,extraGlobalAttributes:l}=e,t=l||n?new N(n,l):N.default;return r=>Re(t,r)}const Kt=v.parser.configure({top:"SingleExpression"}),ze=[{tag:"script",attrs:e=>e.type=="text/typescript"||e.lang=="ts",parser:Ie.parser},{tag:"script",attrs:e=>e.type=="text/babel"||e.type=="text/jsx",parser:Xe.parser},{tag:"script",attrs:e=>e.type=="text/typescript-jsx",parser:Ee.parser},{tag:"script",attrs(e){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type)},parser:Kt},{tag:"script",attrs(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:v.parser},{tag:"style",attrs(e){return(!e.lang||e.lang=="css")&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:z.parser}],Fe=[{name:"style",parser:z.parser.configure({top:"Styles"})}].concat(Be.map(e=>({name:e,parser:v.parser}))),Ve=B.define({name:"html",parser:ht.configure({props:[D.add({Element(e){let n=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+n[0].length?e.continue():e.lineIndent(e.node.from)+(n[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag"(e){return e.column(e.node.from)+e.unit},Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let n=null,l;for(let t=e.node;;){let r=t.lastChild;if(!r||r.name!="Element"||r.to!=t.to)break;n=t=r}return n&&!((l=n.lastChild)&&(l.name=="CloseTag"||l.name=="SelfClosingTag"))?e.lineIndent(n.from)+e.unit:null}}),X.add({Element(e){let n=e.firstChild,l=e.lastChild;return!n||n.name!="OpenTag"?null:{from:n.to,to:l.name=="CloseTag"?l.from:e.to}}}),lt.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),R=Ve.configure({wrap:Se(ze,Fe)});function _e(e={}){let n="",l;e.matchClosingTags===!1&&(n="noMatch"),e.selfClosingTags===!0&&(n=(n?n+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(l=Se((e.nestedLanguages||[]).concat(ze),(e.nestedAttributes||[]).concat(Fe)));let t=l?Ve.configure({wrap:l,dialect:n}):n?R.configure({dialect:n}):R;return new A(t,[R.data.of({autocomplete:Ht(e)}),e.autoCloseTags!==!1?er:[],Ft().support,Nt().support])}const he=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),er=Oe.inputHandler.of((e,n,l,t,r)=>{if(e.composing||e.state.readOnly||n!=l||t!=">"&&t!="/"||!R.isActiveAt(e.state,n,-1))return!1;let o=r(),{state:a}=o,s=a.changeByRange(i=>{var d,u,p;let f=a.doc.sliceString(i.from-1,i.to)==t,{head:m}=i,g=C(a).resolveInner(m,-1),y;if(f&&t==">"&&g.name=="EndTag"){let b=g.parent;if(((u=(d=b.parent)===null||d===void 0?void 0:d.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=L(a.doc,b.parent,m))&&!he.has(y)){let O=m+(a.doc.sliceString(m,m+1)===">"?1:0),h=`</${y}>`;return{range:i,changes:{from:m,to:O,insert:h}}}}else if(f&&t=="/"&&g.name=="IncompleteCloseTag"){let b=g.parent;if(g.from==m-2&&((p=b.lastChild)===null||p===void 0?void 0:p.name)!="CloseTag"&&(y=L(a.doc,b,m))&&!he.has(y)){let O=m+(a.doc.sliceString(m,m+1)===">"?1:0),h=`${y}>`;return{range:T.cursor(m+h.length,-1),changes:{from:m,to:O,insert:h}}}}return{range:i}});return s.changes.empty?!1:(e.dispatch([o,a.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),tr=bt.deserialize({version:14,states:"%pOVOWOOObQPOOOpOSO'#C_OOOO'#Cp'#CpQVOWOOQxQPOOO!TQQOOQ!YQPOOOOOO,58y,58yO!_OSO,58yOOOO-E6n-E6nO!dQQO'#CqQ{QPOOO!iQPOOQ{QPOOO!qQPOOOOOO1G.e1G.eOOQO,59],59]OOQO-E6o-E6oO!yOpO'#CiO#RO`O'#CiQOQPOOO#ZO#tO'#CmO#fO!bO'#CmOOQO,59T,59TO#qOpO,59TO#vO`O,59TOOOO'#Cr'#CrO#{O#tO,59XOOQO,59X,59XOOOO'#Cs'#CsO$WO!bO,59XOOQO1G.o1G.oOOOO-E6p-E6pOOQO1G.s1G.sOOOO-E6q-E6q",stateData:"$g~OjOS~OQROUROkQO~OWTOXUOZUO`VO~OSXOTWO~OXUO[]OlZO~OY^O~O[_O~OT`O~OYaO~OmcOodO~OmfOogO~O^iOnhO~O_jOphO~ObkOqkOrmO~OcnOsnOtmO~OnpO~OppO~ObkOqkOrrO~OcnOsnOtrO~OWX`~",goto:"!^hPPPiPPPPPPPPPmPPPpPPsy!Q!WTROSRe]Re_QSORYSS[T^Rb[QlfRqlQogRso",nodeNames:"⚠ Content Text Interpolation InterpolationContent }} Entity Attribute VueAttributeName : Identifier @ Is ScriptAttributeValue AttributeScript AttributeScript AttributeName AttributeValue Entity Entity",maxTerm:36,nodeProps:[["isolate",-3,3,13,17,""]],skippedNodes:[0],repeatNodeCount:4,tokenData:"'y~RdXY!aYZ!a]^!apq!ars!rwx!w}!O!|!O!P#t!Q![#y![!]$s!_!`%g!b!c%l!c!}#y#R#S#y#T#j#y#j#k%q#k#o#y%W;'S#y;'S;:j$m<%lO#y~!fSj~XY!aYZ!a]^!apq!a~!wOm~~!|Oo~!b#RX`!b}!O!|!Q![!|![!]!|!c!}!|#R#S!|#T#o!|%W;'S!|;'S;:j#n<%lO!|!b#qP;=`<%l!|~#yOl~%W$QXY#t`!b}!O!|!Q![#y![!]!|!c!}#y#R#S#y#T#o#y%W;'S#y;'S;:j$m<%lO#y%W$pP;=`<%l#y~$zXX~`!b}!O!|!Q![!|![!]!|!c!}!|#R#S!|#T#o!|%W;'S!|;'S;:j#n<%lO!|~%lO[~~%qOZ~%W%xXY#t`!b}!O&e!Q![#y![!]!|!c!}#y#R#S#y#T#o#y%W;'S#y;'S;:j$m<%lO#y!b&jX`!b}!O!|!Q![!|![!]!|!c!}'V#R#S!|#T#o'V%W;'S!|;'S;:j#n<%lO!|!b'^XW!b`!b}!O!|!Q![!|![!]!|!c!}'V#R#S!|#T#o'V%W;'S!|;'S;:j#n<%lO!|",tokenizers:[6,7,new $("b~RP#q#rU~XP#q#r[~aOT~~",17,4),new $("!k~RQvwX#o#p!_~^TU~Opmq!]m!^;'Sm;'S;=`!X<%lOm~pUOpmq!]m!]!^!S!^;'Sm;'S;=`!X<%lOm~!XOU~~![P;=`<%lm~!bP#o#p!e~!jOk~~",72,2),new $("[~RPwxU~ZOp~~",11,15),new $("[~RPrsU~ZOn~~",11,14),new $("!e~RQvwXwx!_~^Tc~Opmq!]m!^;'Sm;'S;=`!X<%lOm~pUOpmq!]m!]!^!S!^;'Sm;'S;=`!X<%lOm~!XOc~~![P;=`<%lm~!dOt~~",66,35),new $("!e~RQrsXvw^~^Or~~cTb~Oprq!]r!^;'Sr;'S;=`!^<%lOr~uUOprq!]r!]!^!X!^;'Sr;'S;=`!^<%lOr~!^Ob~~!aP;=`<%lr~",66,33)],topRules:{Content:[0,1],Attribute:[1,7]},tokenPrec:157}),rr=v.parser.configure({top:"SingleExpression"}),Me=tr.configure({props:[yt({Text:x.content,Is:x.definitionOperator,AttributeName:x.attributeName,VueAttributeName:x.keyword,Identifier:x.variableName,"AttributeValue ScriptAttributeValue":x.attributeValue,Entity:x.character,"{{ }}":x.brace,"@ :":x.punctuation})]}),Je={parser:rr},nr=Me.configure({wrap:re((e,n)=>e.name=="InterpolationContent"?Je:null)}),lr=Me.configure({wrap:re((e,n)=>e.name=="AttributeScript"?Je:null),top:"Attribute"}),ar={parser:nr},or={parser:lr},H=_e();function We(e){return e.configure({dialect:"selfClosing",wrap:re(sr)},"vue")}const ir=We(H.language);function sr(e,n){switch(e.name){case"Attribute":return/^(@|:|v-)/.test(n.read(e.from,e.from+2))?or:null;case"Text":return ar}return null}function Ar(e={}){let n=H;if(e.base){if(e.base.language.name!="html"||!(e.base.language instanceof B))throw new RangeError("The base option must be the result of calling html(...)");n=e.base}return new A(n.language==H.language?ir:We(n.language),[n.support,n.language.data.of({closeBrackets:{brackets:["{",'"']}})])}const Ue=ke({commentTokens:{block:{open:"<!--",close:"-->"}}}),Ye=new kt,Ze=vt.configure({props:[X.add(e=>!e.is("Block")||e.is("Document")||K(e)!=null||ur(e)?void 0:(n,l)=>({from:l.doc.lineAt(n.from).to,to:n.to})),Ye.add(K),D.add({Document:()=>null}),pt.add({Document:Ue})]});function K(e){let n=/^(?:ATX|Setext)Heading(\d)$/.exec(e.name);return n?+n[1]:void 0}function ur(e){return e.name=="OrderedList"||e.name=="BulletList"}function cr(e,n){let l=e;for(;;){let t=l.nextSibling,r;if(!t||(r=K(t.type))!=null&&r<=n)break;l=t}return l.to}const dr=st.of((e,n,l)=>{for(let t=C(e).resolveInner(l,-1);t&&!(t.from<n);t=t.parent){let r=t.type.prop(Ye);if(r==null)continue;let o=cr(t,r);if(o>l)return{from:l,to:o}}return null});function le(e){return new it(Ue,e,[dr],"markdown")}const pr=le(Ze),mr=Ze.configure([xt,St,Ct,Tt,{props:[X.add({Table:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})})]}]),ee=le(mr);function fr(e,n){return l=>{if(l&&e){let t=null;if(l=/\S*/.exec(l)[0],typeof e=="function"?t=e(l):t=oe.matchLanguageName(e,l,!0),t instanceof oe)return t.support?t.support.language.parser:mt.getSkippingParser(t.load());if(t)return t.parser}return n?n.parser:null}}class Y{constructor(n,l,t,r,o,a,s){this.node=n,this.from=l,this.to=t,this.spaceBefore=r,this.spaceAfter=o,this.type=a,this.item=s}blank(n,l=!0){let t=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(n!=null){for(;t.length<n;)t+=" ";return t}else{for(let r=this.to-this.from-t.length-this.spaceAfter.length;r>0;r--)t+=" ";return t+(l?this.spaceAfter:"")}}marker(n,l){let t=this.node.name=="OrderedList"?String(+He(this.item,n)[2]+l):"";return this.spaceBefore+t+this.type+this.spaceAfter}}function Ge(e,n){let l=[],t=[];for(let r=e;r;r=r.parent){if(r.name=="FencedCode")return t;(r.name=="ListItem"||r.name=="Blockquote")&&l.push(r)}for(let r=l.length-1;r>=0;r--){let o=l[r],a,s=n.lineAt(o.from),i=o.from-s.from;if(o.name=="Blockquote"&&(a=/^ *>( ?)/.exec(s.text.slice(i))))t.push(new Y(o,i,i+a[0].length,"",a[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(a=/^( *)\d+([.)])( *)/.exec(s.text.slice(i)))){let d=a[3],u=a[0].length;d.length>=4&&(d=d.slice(0,d.length-4),u-=4),t.push(new Y(o.parent,i,i+u,a[1],d,a[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(a=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(i)))){let d=a[4],u=a[0].length;d.length>4&&(d=d.slice(0,d.length-4),u-=4);let p=a[2];a[3]&&(p+=a[3].replace(/[xX]/," ")),t.push(new Y(o.parent,i,i+u,a[1],d,p,o))}}return t}function He(e,n){return/^(\s*)(\d+)(?=[.)])/.exec(n.sliceString(e.from,e.from+10))}function Z(e,n,l,t=0){for(let r=-1,o=e;;){if(o.name=="ListItem"){let s=He(o,n),i=+s[2];if(r>=0){if(i!=r+1)return;l.push({from:o.from+s[1].length,to:o.from+s[0].length,insert:String(r+2+t)})}r=i}let a=o.nextSibling;if(!a)break;o=a}}function ae(e,n){let l=/^[ \t]*/.exec(e)[0].length;if(!l||n.facet(ut)!="	")return e;let t=j(e,4,l),r="";for(let o=t;o>0;)o>=4?(r+="	",o-=4):(r+=" ",o--);return r+e.slice(l)}const gr=({state:e,dispatch:n})=>{let l=C(e),{doc:t}=e,r=null,o=e.changeByRange(a=>{if(!a.empty||!ee.isActiveAt(e,a.from,-1)&&!ee.isActiveAt(e,a.from,1))return r={range:a};let s=a.from,i=t.lineAt(s),d=Ge(l.resolveInner(s,-1),t);for(;d.length&&d[d.length-1].from>s-i.from;)d.pop();if(!d.length)return r={range:a};let u=d[d.length-1];if(u.to-u.spaceAfter.length>s-i.from)return r={range:a};let p=s>=u.to-u.spaceAfter.length&&!/\S/.test(i.text.slice(u.to));if(u.item&&p){let b=u.node.firstChild,O=u.node.getChild("ListItem","ListItem");if(b.to>=s||O&&O.to<s||i.from>0&&!/[^\s>]/.test(t.lineAt(i.from-1).text)){let h=d.length>1?d[d.length-2]:null,Q,F="";h&&h.item?(Q=i.from+h.from,F=h.marker(t,1)):Q=i.from+(h?h.to:0);let V=[{from:Q,to:s,insert:F}];return u.node.name=="OrderedList"&&Z(u.item,t,V,-2),h&&h.node.name=="OrderedList"&&Z(h.item,t,V),{range:T.cursor(Q+F.length),changes:V}}else{let h=ye(d,e,i);return{range:T.cursor(s+h.length+1),changes:{from:i.from,insert:h+e.lineBreak}}}}if(u.node.name=="Blockquote"&&p&&i.from){let b=t.lineAt(i.from-1),O=/>\s*$/.exec(b.text);if(O&&O.index==u.from){let h=e.changes([{from:b.from+O.index,to:b.to},{from:i.from+u.from,to:i.to}]);return{range:a.map(h),changes:h}}}let f=[];u.node.name=="OrderedList"&&Z(u.item,t,f);let m=u.item&&u.item.from<i.from,g="";if(!m||/^[\s\d.)\-+*>]*/.exec(i.text)[0].length>=u.to)for(let b=0,O=d.length-1;b<=O;b++)g+=b==O&&!m?d[b].marker(t,1):d[b].blank(b<O?j(i.text,4,d[b+1].from)-g.length:null);let y=s;for(;y>i.from&&/\s/.test(i.text.charAt(y-i.from-1));)y--;return g=ae(g,e),hr(u.node,e.doc)&&(g=ye(d,e,i)+e.lineBreak+g),f.push({from:y,to:s,insert:e.lineBreak+g}),{range:T.cursor(y+g.length+1),changes:f}});return r?!1:(n(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function be(e){return e.name=="QuoteMark"||e.name=="ListMark"}function hr(e,n){if(e.name!="OrderedList"&&e.name!="BulletList")return!1;let l=e.firstChild,t=e.getChild("ListItem","ListItem");if(!t)return!1;let r=n.lineAt(l.to),o=n.lineAt(t.from),a=/^[\s>]*$/.test(r.text);return r.number+(a?0:1)<o.number}function ye(e,n,l){let t="";for(let r=0,o=e.length-2;r<=o;r++)t+=e[r].blank(r<o?j(l.text,4,e[r+1].from)-t.length:null,r<o);return ae(t,n)}function br(e,n){let l=e.resolveInner(n,-1),t=n;be(l)&&(t=l.from,l=l.parent);for(let r;r=l.childBefore(t);)if(be(r))t=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")l=r.lastChild,t=l.to;else break;return l}const yr=({state:e,dispatch:n})=>{let l=C(e),t=null,r=e.changeByRange(o=>{let a=o.from,{doc:s}=e;if(o.empty&&ee.isActiveAt(e,o.from)){let i=s.lineAt(a),d=Ge(br(l,a),s);if(d.length){let u=d[d.length-1],p=u.to-u.spaceAfter.length+(u.spaceAfter?1:0);if(a-i.from>p&&!/\S/.test(i.text.slice(p,a-i.from)))return{range:T.cursor(i.from+p),changes:{from:i.from+p,to:a}};if(a-i.from==p&&(!u.item||i.from<=u.item.from||!/\S/.test(i.text.slice(0,u.to)))){let f=i.from+u.from;if(u.item&&u.node.from<u.item.from&&/\S/.test(i.text.slice(u.from,u.to))){let m=u.blank(j(i.text,4,u.to)-j(i.text,4,u.from));return f==i.from&&(m=ae(m,e)),{range:T.cursor(f+m.length),changes:{from:f,to:i.from+u.to,insert:m}}}if(f<a)return{range:T.cursor(f),changes:{from:f,to:a}}}}}return t={range:o}});return t?!1:(n(e.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},Or=[{key:"Enter",run:gr},{key:"Backspace",run:yr}],Ke=_e({matchClosingTags:!1});function $r(e={}){let{codeLanguages:n,defaultCodeLanguage:l,addKeymap:t=!0,base:{parser:r}=pr,completeHTMLTags:o=!0,htmlTagLanguage:a=Ke}=e;if(!(r instanceof Ot))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=e.extensions?[e.extensions]:[],i=[a.support],d;l instanceof A?(i.push(l.support),d=l.language):l&&(d=l);let u=n||d?fr(n,d):void 0;s.push(wt({codeParser:u,htmlParser:a.language.parser})),t&&i.push(at.high(ot.of(Or)));let p=le(r.configure(s));return o&&i.push(p.data.of({autocomplete:wr})),new A(p,i)}function wr(e){let{state:n,pos:l}=e,t=/<[:\-\.\w\u00b7-\uffff]*$/.exec(n.sliceDoc(l-25,l));if(!t)return null;let r=C(n).resolveInner(l,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:l-t[0].length,to:l,options:kr(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let G=null;function kr(){if(G)return G;let e=Gt(new ct(dt.create({extensions:Ke}),0,!0));return G=e?e.options:[]}const Pr=()=>e=>{try{JSON.parse(e.state.doc.toString())}catch(n){if(!(n instanceof SyntaxError))throw n;const l=vr(n,e.state.doc);return[{from:l,message:n.message,severity:"error",to:l}]}return[]};function vr(e,n){let l;return(l=e.message.match(/at position (\d+)/))?Math.min(+l[1],n.length):(l=e.message.match(/at line (\d+) column (\d+)/))?Math.min(n.line(+l[1]).from+ +l[2]-1,n.length):0}const xr=B.define({name:"json",parser:At.configure({props:[D.add({Object:P({except:/^\s*\}/}),Array:P({except:/^\s*\]/})}),X.add({"Object Array":te})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Lr(){return new A(xr)}export{Pr as a,Lr as b,Tr as e,Ft as j,$r as m,Ar as v};
