/**
 * vue-codemirror6
 *
 * @description CodeMirror6 Component for vue2 and vue3.
 * @author Logue <logue@hotmail.co.jp>
 * @copyright 2022-2025 By Masashi Yoshikawa All rights reserved.
 * @license MIT
 * @version 1.4.0
 * @see {@link https://github.com/logue/vue-codemirror6}
 */

import{L as B,i as D,f as E,c as P,a as te,b as A,s as x,d as w,E as re,e as et,g as tt,h as rt,j as nt,k as we,l as ke,m as T,n as at,o as lt,P as ot,p as it,q as st,r as N,t as ut,C as ct,u as dt,v as mt,w as ie,x as pt}from"./codemirror-B0adBI5s.js";import{p as ft,i as ve,I as xe,j as gt,l as Se,m as ht,n as ne,L as bt,e as yt,a as S,o as $,M as Ot,q as wt,N as kt,r as vt,G as xt,S as St,u as Ct,E as Tt,v as At}from"./vendor-Cqc6lHne.js";let M=null;function J(){if(!M&&typeof document=="object"&&document.body){let{style:e}=document.body,n=[],a=new Set;for(let t in e)t!="cssText"&&t!="cssFloat"&&typeof e[t]=="string"&&(/[A-Z]/.test(t)&&(t=t.replace(/[A-Z]/g,r=>"-"+r.toLowerCase())),a.has(t)||(n.push(t),a.add(t)));M=n.sort().map(t=>({type:"property",label:t,apply:t+": "}))}return M||[]}const se=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(e=>({type:"class",label:e})),ue=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(e=>({type:"keyword",label:e})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(e=>({type:"constant",label:e}))),$t=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(e=>({type:"type",label:e})),Pt=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(e=>({type:"keyword",label:e})),C=/^(\w[\w-]*|-\w[\w-]*|)$/,Lt=/^-(-[\w-]*)?$/;function It(e,n){var a;if((e.name=="("||e.type.isError)&&(e=e.parent||e),e.name!="ArgList")return!1;let t=(a=e.parent)===null||a===void 0?void 0:a.firstChild;return t?.name!="Callee"?!1:n.sliceString(t.from,t.to)=="var"}const ce=new ve,Et=["Declaration"];function Xt(e){for(let n=e;;){if(n.type.isTop)return n;if(!(n=n.parent))return e}}function Ce(e,n,a){if(n.to-n.from>4096){let t=ce.get(n);if(t)return t;let r=[],o=new Set,l=n.cursor(xe.IncludeAnonymous);if(l.firstChild())do for(let s of Ce(e,l.node,a))o.has(s.label)||(o.add(s.label),r.push(s));while(l.nextSibling());return ce.set(n,r),r}else{let t=[],r=new Set;return n.cursor().iterate(o=>{var l;if(a(o)&&o.matchContext(Et)&&((l=o.node.nextSibling)===null||l===void 0?void 0:l.name)==":"){let s=e.sliceString(o.from,o.to);r.has(s)||(r.add(s),t.push({label:s,type:"variable"}))}}),t}}const qt=e=>n=>{let{state:a,pos:t}=n,r=x(a).resolveInner(t,-1),o=r.type.isError&&r.from==r.to-1&&a.doc.sliceString(r.from,r.to)=="-";if(r.name=="PropertyName"||(o||r.name=="TagName")&&/^(Block|Styles)$/.test(r.resolve(r.to).name))return{from:r.from,options:J(),validFor:C};if(r.name=="ValueName")return{from:r.from,options:ue,validFor:C};if(r.name=="PseudoClassName")return{from:r.from,options:se,validFor:C};if(e(r)||(n.explicit||o)&&It(r,a.doc))return{from:e(r)||o?r.from:t,options:Ce(a.doc,Xt(r),e),validFor:Lt};if(r.name=="TagName"){for(let{parent:i}=r;i;i=i.parent)if(i.name=="Block")return{from:r.from,options:J(),validFor:C};return{from:r.from,options:$t,validFor:C}}if(r.name=="AtKeyword")return{from:r.from,options:Pt,validFor:C};if(!n.explicit)return null;let l=r.resolve(t),s=l.childBefore(t);return s&&s.name==":"&&l.name=="PseudoClassSelector"?{from:t,options:se,validFor:C}:s&&s.name==":"&&l.name=="Declaration"||l.name=="ArgList"?{from:t,options:ue,validFor:C}:l.name=="Block"||l.name=="Styles"?{from:t,options:J(),validFor:C}:null},Nt=qt(e=>e.name=="VariableName"),z=B.define({name:"css",parser:ft.configure({props:[D.add({Declaration:P()}),E.add({"Block KeyframeList":te})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function jt(){return new A(z,z.data.of({autocomplete:Nt}))}const Te=[w("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),w("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),w("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),w("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),w("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),w(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),w("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),w(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),w(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),w('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),w('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Bt=Te.concat([w("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),w("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),w("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),de=new ve,Ae=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function X(e){return(n,a)=>{let t=n.node.getChild("VariableDefinition");return t&&a(t,e),!0}}const Dt=["FunctionDeclaration"],Qt={FunctionDeclaration:X("function"),ClassDeclaration:X("class"),ClassExpression:()=>!0,EnumDeclaration:X("constant"),TypeAliasDeclaration:X("type"),NamespaceDeclaration:X("namespace"),VariableDefinition(e,n){e.matchContext(Dt)||n(e,"variable")},TypeDefinition(e,n){n(e,"type")},__proto__:null};function $e(e,n){let a=de.get(n);if(a)return a;let t=[],r=!0;function o(l,s){let i=e.sliceString(l.from,l.to);t.push({label:i,type:s})}return n.cursor(xe.IncludeAnonymous).iterate(l=>{if(r)r=!1;else if(l.name){let s=Qt[l.name];if(s&&s(l,o)||Ae.has(l.name))return!1}else if(l.to-l.from>8192){for(let s of $e(e,l.node))t.push(s);return!1}}),de.set(n,t),t}const me=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,Pe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Rt(e){let n=x(e.state).resolveInner(e.pos,-1);if(Pe.indexOf(n.name)>-1)return null;let a=n.name=="VariableName"||n.to-n.from<20&&me.test(e.state.sliceDoc(n.from,n.to));if(!a&&!e.explicit)return null;let t=[];for(let r=n;r;r=r.parent)Ae.has(r.name)&&(t=t.concat($e(e.state.doc,r)));return{options:t,from:a?n.from:e.pos,validFor:me}}const v=B.define({name:"javascript",parser:gt.configure({props:[D.add({IfStatement:P({except:/^\s*({|else\b)/}),TryStatement:P({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:nt,SwitchBody:e=>{let n=e.textAfter,a=/^\s*\}/.test(n),t=/^\s*(case|default)\b/.test(n);return e.baseIndent+(a?0:t?1:2)*e.unit},Block:rt({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":P({except:/^\s*{/}),JSXElement(e){let n=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)},JSXEscape(e){let n=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(n?0:e.unit)},"JSXOpenTag JSXSelfClosingTag"(e){return e.column(e.node.from)+e.unit}}),E.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":te,BlockComment(e){return{from:e.from+2,to:e.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),Le={test:e=>/^JSX/.test(e.name),facet:ke({commentTokens:{block:{open:"{/*",close:"*/}"}}})},Ie=v.configure({dialect:"ts"},"typescript"),Ee=v.configure({dialect:"jsx",props:[we.add(e=>e.isTop?[Le]:void 0)]}),Xe=v.configure({dialect:"jsx ts",props:[we.add(e=>e.isTop?[Le]:void 0)]},"typescript");let qe=e=>({label:e,type:"keyword"});const Ne="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(qe),zt=Ne.concat(["declare","implements","private","protected","public"].map(qe));function Ft(e={}){let n=e.jsx?e.typescript?Xe:Ee:e.typescript?Ie:v,a=e.typescript?Bt.concat(zt):Te.concat(Ne);return new A(n,[v.data.of({autocomplete:et(Pe,tt(a))}),v.data.of({autocomplete:Rt}),e.jsx?Mt:[]])}function Vt(e){for(;;){if(e.name=="JSXOpenTag"||e.name=="JSXSelfClosingTag"||e.name=="JSXFragmentTag")return e;if(e.name=="JSXEscape"||!e.parent)return null;e=e.parent}}function pe(e,n,a=e.length){for(let t=n?.firstChild;t;t=t.nextSibling)if(t.name=="JSXIdentifier"||t.name=="JSXBuiltin"||t.name=="JSXNamespacedName"||t.name=="JSXMemberExpression")return e.sliceString(t.from,Math.min(t.to,a));return""}const _t=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Mt=re.inputHandler.of((e,n,a,t,r)=>{if((_t?e.composing:e.compositionStarted)||e.state.readOnly||n!=a||t!=">"&&t!="/"||!v.isActiveAt(e.state,n,-1))return!1;let o=r(),{state:l}=o,s=l.changeByRange(i=>{var d;let{head:u}=i,m=x(l).resolveInner(u-1,-1),f;if(m.name=="JSXStartTag"&&(m=m.parent),!(l.doc.sliceString(u-1,u)!=t||m.name=="JSXAttributeValue"&&m.to>u)){if(t==">"&&m.name=="JSXFragmentTag")return{range:i,changes:{from:u,insert:"</>"}};if(t=="/"&&m.name=="JSXStartCloseTag"){let p=m.parent,g=p.parent;if(g&&p.from==u-2&&((f=pe(l.doc,g.firstChild,u))||((d=g.firstChild)===null||d===void 0?void 0:d.name)=="JSXFragmentTag")){let y=`${f}>`;return{range:T.cursor(u+y.length,-1),changes:{from:u,insert:y}}}}else if(t==">"){let p=Vt(m);if(p&&p.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(l.doc.sliceString(u,u+2))&&(f=pe(l.doc,p,u)))return{range:i,changes:{from:u,insert:`</${f}>`}}}}return{range:i}});return s.changes.empty?!1:(e.dispatch([o,l.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function $r(e,n){return n||(n={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((a,t)=>{var r;!((r=a.meta.docs)===null||r===void 0)&&r.recommended&&(n.rules[t]=2)})),a=>{let{state:t}=a,r=[];for(let{from:o,to:l}of v.findRegions(t)){let s=t.doc.lineAt(o),i={line:s.number-1,col:o-s.from,pos:o};for(let d of e.verify(t.sliceDoc(o,l),n))r.push(Jt(d,t.doc,i))}return r}}function fe(e,n,a,t){return a.line(e+t.line).from+n+(e==1?t.col-1:-1)}function Jt(e,n,a){let t=fe(e.line,e.column,n,a),r={from:t,to:e.endLine!=null&&e.endColumn!=1?fe(e.endLine,e.endColumn,n,a):t,message:e.message,source:e.ruleId?"eslint:"+e.ruleId:"eslint",severity:e.severity==1?"warning":"error"};if(e.fix){let{range:o,text:l}=e.fix,s=o[0]+a.pos-t,i=o[1]+a.pos-t;r.actions=[{name:"fix",apply(d,u){d.dispatch({changes:{from:u+s,to:u+i,insert:l},scrollIntoView:!0})}}]}return r}const q=["_blank","_self","_top","_parent"],W=["ascii","utf-8","utf-16","latin1","latin1"],U=["get","post","put","delete"],Y=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],k=["true","false"],c={},Wt={a:{attrs:{href:null,ping:null,type:null,media:null,target:q,hreflang:null}},abbr:c,address:c,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:c,aside:c,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:c,base:{attrs:{href:null,target:q}},bdi:c,bdo:c,blockquote:{attrs:{cite:null}},body:c,br:c,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:Y,formmethod:U,formnovalidate:["novalidate"],formtarget:q,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:c,center:c,cite:c,code:c,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:c,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:c,div:c,dl:c,dt:c,em:c,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:c,figure:c,footer:c,form:{attrs:{action:null,name:null,"accept-charset":W,autocomplete:["on","off"],enctype:Y,method:U,novalidate:["novalidate"],target:q}},h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:c,hgroup:c,hr:c,html:{attrs:{manifest:null}},i:c,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:Y,formmethod:U,formnovalidate:["novalidate"],formtarget:q,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:c,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:c,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:c,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:W,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:c,noscript:c,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:c,param:{attrs:{name:null,value:null}},pre:c,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:c,rt:c,ruby:c,samp:c,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:W}},section:c,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:c,source:{attrs:{src:null,type:null,media:null}},span:c,strong:c,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:c,summary:c,sup:c,table:c,tbody:c,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:c,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:c,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:c,time:{attrs:{datetime:null}},title:c,tr:c,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:c,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:c},je={accesskey:null,class:null,contenteditable:k,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:k,autocorrect:k,autocapitalize:k,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":k,"aria-autocomplete":["inline","list","both","none"],"aria-busy":k,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":k,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":k,"aria-hidden":k,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":k,"aria-multiselectable":k,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":k,"aria-relevant":null,"aria-required":k,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Be="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(e=>"on"+e);for(let e of Be)je[e]=null;class j{constructor(n,a){this.tags={...Wt,...n},this.globalAttrs={...je,...a},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}j.default=new j;function L(e,n,a=e.length){if(!n)return"";let t=n.firstChild,r=t&&t.getChild("TagName");return r?e.sliceString(r.from,Math.min(r.to,a)):""}function I(e,n=!1){for(;e;e=e.parent)if(e.name=="Element")if(n)n=!1;else return e;return null}function De(e,n,a){let t=a.tags[L(e,I(n))];return t?.children||a.allTags}function ae(e,n){let a=[];for(let t=I(n);t&&!t.type.isTop;t=I(t.parent)){let r=L(e,t);if(r&&t.lastChild.name=="CloseTag")break;r&&a.indexOf(r)<0&&(n.name=="EndTag"||n.from>=t.firstChild.to)&&a.push(r)}return a}const Qe=/^[:\-\.\w\u00b7-\uffff]*$/;function ge(e,n,a,t,r){let o=/\s*>/.test(e.sliceDoc(r,r+5))?"":">",l=I(a,a.name=="StartTag"||a.name=="TagName");return{from:t,to:r,options:De(e.doc,l,n).map(s=>({label:s,type:"type"})).concat(ae(e.doc,a).map((s,i)=>({label:"/"+s,apply:"/"+s+o,type:"type",boost:99-i}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function he(e,n,a,t){let r=/\s*>/.test(e.sliceDoc(t,t+5))?"":">";return{from:a,to:t,options:ae(e.doc,n).map((o,l)=>({label:o,apply:o+r,type:"type",boost:99-l})),validFor:Qe}}function Ut(e,n,a,t){let r=[],o=0;for(let l of De(e.doc,a,n))r.push({label:"<"+l,type:"type"});for(let l of ae(e.doc,a))r.push({label:"</"+l+">",type:"type",boost:99-o++});return{from:t,to:t,options:r,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function Yt(e,n,a,t,r){let o=I(a),l=o?n.tags[L(e.doc,o)]:null,s=l&&l.attrs?Object.keys(l.attrs):[],i=l&&l.globalAttrs===!1?s:s.length?s.concat(n.globalAttrNames):n.globalAttrNames;return{from:t,to:r,options:i.map(d=>({label:d,type:"property"})),validFor:Qe}}function Zt(e,n,a,t,r){var o;let l=(o=a.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),s=[],i;if(l){let d=e.sliceDoc(l.from,l.to),u=n.globalAttrs[d];if(!u){let m=I(a),f=m?n.tags[L(e.doc,m)]:null;u=f?.attrs&&f.attrs[d]}if(u){let m=e.sliceDoc(t,r).toLowerCase(),f='"',p='"';/^['"]/.test(m)?(i=m[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",p=e.sliceDoc(r,r+1)==m[0]?"":m[0],m=m.slice(1),t++):i=/^[^\s<>='"]*$/;for(let g of u)s.push({label:g,apply:f+g+p,type:"constant"})}}return{from:t,to:r,options:s,validFor:i}}function Re(e,n){let{state:a,pos:t}=n,r=x(a).resolveInner(t,-1),o=r.resolve(t);for(let l=t,s;o==r&&(s=r.childBefore(l));){let i=s.lastChild;if(!i||!i.type.isError||i.from<i.to)break;o=r=s,l=i.from}return r.name=="TagName"?r.parent&&/CloseTag$/.test(r.parent.name)?he(a,r,r.from,t):ge(a,e,r,r.from,t):r.name=="StartTag"||r.name=="IncompleteTag"?ge(a,e,r,t,t):r.name=="StartCloseTag"||r.name=="IncompleteCloseTag"?he(a,r,t,t):r.name=="OpenTag"||r.name=="SelfClosingTag"||r.name=="AttributeName"?Yt(a,e,r,r.name=="AttributeName"?r.from:t,t):r.name=="Is"||r.name=="AttributeValue"||r.name=="UnquotedAttributeValue"?Zt(a,e,r,r.name=="Is"?t:r.from,t):n.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?Ut(a,e,r,t):null}function Gt(e){return Re(j.default,e)}function Ht(e){let{extraTags:n,extraGlobalAttributes:a}=e,t=a||n?new j(n,a):j.default;return r=>Re(t,r)}const Kt=v.parser.configure({top:"SingleExpression"}),ze=[{tag:"script",attrs:e=>e.type=="text/typescript"||e.lang=="ts",parser:Ie.parser},{tag:"script",attrs:e=>e.type=="text/babel"||e.type=="text/jsx",parser:Ee.parser},{tag:"script",attrs:e=>e.type=="text/typescript-jsx",parser:Xe.parser},{tag:"script",attrs(e){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type)},parser:Kt},{tag:"script",attrs(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:v.parser},{tag:"style",attrs(e){return(!e.lang||e.lang=="css")&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:z.parser}],Fe=[{name:"style",parser:z.parser.configure({top:"Styles"})}].concat(Be.map(e=>({name:e,parser:v.parser}))),Ve=B.define({name:"html",parser:ht.configure({props:[D.add({Element(e){let n=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+n[0].length?e.continue():e.lineIndent(e.node.from)+(n[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag"(e){return e.column(e.node.from)+e.unit},Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let n=null,a;for(let t=e.node;;){let r=t.lastChild;if(!r||r.name!="Element"||r.to!=t.to)break;n=t=r}return n&&!((a=n.lastChild)&&(a.name=="CloseTag"||a.name=="SelfClosingTag"))?e.lineIndent(n.from)+e.unit:null}}),E.add({Element(e){let n=e.firstChild,a=e.lastChild;return!n||n.name!="OpenTag"?null:{from:n.to,to:a.name=="CloseTag"?a.from:e.to}}}),at.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),R=Ve.configure({wrap:Se(ze,Fe)});function _e(e={}){let n="",a;e.matchClosingTags===!1&&(n="noMatch"),e.selfClosingTags===!0&&(n=(n?n+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(a=Se((e.nestedLanguages||[]).concat(ze),(e.nestedAttributes||[]).concat(Fe)));let t=a?Ve.configure({wrap:a,dialect:n}):n?R.configure({dialect:n}):R;return new A(t,[R.data.of({autocomplete:Ht(e)}),e.autoCloseTags!==!1?er:[],Ft().support,jt().support])}const be=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),er=re.inputHandler.of((e,n,a,t,r)=>{if(e.composing||e.state.readOnly||n!=a||t!=">"&&t!="/"||!R.isActiveAt(e.state,n,-1))return!1;let o=r(),{state:l}=o,s=l.changeByRange(i=>{var d,u,m;let f=l.doc.sliceString(i.from-1,i.to)==t,{head:p}=i,g=x(l).resolveInner(p,-1),y;if(f&&t==">"&&g.name=="EndTag"){let b=g.parent;if(((u=(d=b.parent)===null||d===void 0?void 0:d.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(y=L(l.doc,b.parent,p))&&!be.has(y)){let O=p+(l.doc.sliceString(p,p+1)===">"?1:0),h=`</${y}>`;return{range:i,changes:{from:p,to:O,insert:h}}}}else if(f&&t=="/"&&g.name=="IncompleteCloseTag"){let b=g.parent;if(g.from==p-2&&((m=b.lastChild)===null||m===void 0?void 0:m.name)!="CloseTag"&&(y=L(l.doc,b,p))&&!be.has(y)){let O=p+(l.doc.sliceString(p,p+1)===">"?1:0),h=`${y}>`;return{range:T.cursor(p+h.length,-1),changes:{from:p,to:O,insert:h}}}}return{range:i}});return s.changes.empty?!1:(e.dispatch([o,l.update(s,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),tr=bt.deserialize({version:14,states:"%pOVOWOOObQPOOOpOSO'#C_OOOO'#Cp'#CpQVOWOOQxQPOOO!TQQOOQ!YQPOOOOOO,58y,58yO!_OSO,58yOOOO-E6n-E6nO!dQQO'#CqQ{QPOOO!iQPOOQ{QPOOO!qQPOOOOOO1G.e1G.eOOQO,59],59]OOQO-E6o-E6oO!yOpO'#CiO#RO`O'#CiQOQPOOO#ZO#tO'#CmO#fO!bO'#CmOOQO,59T,59TO#qOpO,59TO#vO`O,59TOOOO'#Cr'#CrO#{O#tO,59XOOQO,59X,59XOOOO'#Cs'#CsO$WO!bO,59XOOQO1G.o1G.oOOOO-E6p-E6pOOQO1G.s1G.sOOOO-E6q-E6q",stateData:"$g~OjOS~OQROUROkQO~OWTOXUOZUO`VO~OSXOTWO~OXUO[]OlZO~OY^O~O[_O~OT`O~OYaO~OmcOodO~OmfOogO~O^iOnhO~O_jOphO~ObkOqkOrmO~OcnOsnOtmO~OnpO~OppO~ObkOqkOrrO~OcnOsnOtrO~OWX`~",goto:"!^hPPPiPPPPPPPPPmPPPpPPsy!Q!WTROSRe]Re_QSORYSS[T^Rb[QlfRqlQogRso",nodeNames:"âš  Content Text Interpolation InterpolationContent }} Entity Attribute VueAttributeName : Identifier @ Is ScriptAttributeValue AttributeScript AttributeScript AttributeName AttributeValue Entity Entity",maxTerm:36,nodeProps:[["isolate",-3,3,13,17,""]],skippedNodes:[0],repeatNodeCount:4,tokenData:"'y~RdXY!aYZ!a]^!apq!ars!rwx!w}!O!|!O!P#t!Q![#y![!]$s!_!`%g!b!c%l!c!}#y#R#S#y#T#j#y#j#k%q#k#o#y%W;'S#y;'S;:j$m<%lO#y~!fSj~XY!aYZ!a]^!apq!a~!wOm~~!|Oo~!b#RX`!b}!O!|!Q![!|![!]!|!c!}!|#R#S!|#T#o!|%W;'S!|;'S;:j#n<%lO!|!b#qP;=`<%l!|~#yOl~%W$QXY#t`!b}!O!|!Q![#y![!]!|!c!}#y#R#S#y#T#o#y%W;'S#y;'S;:j$m<%lO#y%W$pP;=`<%l#y~$zXX~`!b}!O!|!Q![!|![!]!|!c!}!|#R#S!|#T#o!|%W;'S!|;'S;:j#n<%lO!|~%lO[~~%qOZ~%W%xXY#t`!b}!O&e!Q![#y![!]!|!c!}#y#R#S#y#T#o#y%W;'S#y;'S;:j$m<%lO#y!b&jX`!b}!O!|!Q![!|![!]!|!c!}'V#R#S!|#T#o'V%W;'S!|;'S;:j#n<%lO!|!b'^XW!b`!b}!O!|!Q![!|![!]!|!c!}'V#R#S!|#T#o'V%W;'S!|;'S;:j#n<%lO!|",tokenizers:[6,7,new $("b~RP#q#rU~XP#q#r[~aOT~~",17,4),new $("!k~RQvwX#o#p!_~^TU~Opmq!]m!^;'Sm;'S;=`!X<%lOm~pUOpmq!]m!]!^!S!^;'Sm;'S;=`!X<%lOm~!XOU~~![P;=`<%lm~!bP#o#p!e~!jOk~~",72,2),new $("[~RPwxU~ZOp~~",11,15),new $("[~RPrsU~ZOn~~",11,14),new $("!e~RQvwXwx!_~^Tc~Opmq!]m!^;'Sm;'S;=`!X<%lOm~pUOpmq!]m!]!^!S!^;'Sm;'S;=`!X<%lOm~!XOc~~![P;=`<%lm~!dOt~~",66,35),new $("!e~RQrsXvw^~^Or~~cTb~Oprq!]r!^;'Sr;'S;=`!^<%lOr~uUOprq!]r!]!^!X!^;'Sr;'S;=`!^<%lOr~!^Ob~~!aP;=`<%lr~",66,33)],topRules:{Content:[0,1],Attribute:[1,7]},tokenPrec:157}),rr=v.parser.configure({top:"SingleExpression"}),Me=tr.configure({props:[yt({Text:S.content,Is:S.definitionOperator,AttributeName:S.attributeName,VueAttributeName:S.keyword,Identifier:S.variableName,"AttributeValue ScriptAttributeValue":S.attributeValue,Entity:S.character,"{{ }}":S.brace,"@ :":S.punctuation})]}),Je={parser:rr},nr=Me.configure({wrap:ne((e,n)=>e.name=="InterpolationContent"?Je:null)}),ar=Me.configure({wrap:ne((e,n)=>e.name=="AttributeScript"?Je:null),top:"Attribute"}),lr={parser:nr},or={parser:ar},K=_e();function We(e){return e.configure({dialect:"selfClosing",wrap:ne(sr)},"vue")}const ir=We(K.language);function sr(e,n){switch(e.name){case"Attribute":return/^(@|:|v-)/.test(n.read(e.from,e.from+2))?or:null;case"Text":return lr}return null}function Pr(e={}){let n=K;if(e.base){if(e.base.language.name!="html"||!(e.base.language instanceof B))throw new RangeError("The base option must be the result of calling html(...)");n=e.base}return new A(n.language==K.language?ir:We(n.language),[n.support,n.language.data.of({closeBrackets:{brackets:["{",'"']}})])}const Ue=ke({commentTokens:{block:{open:"<!--",close:"-->"}}}),Ye=new kt,Ze=vt.configure({props:[E.add(e=>!e.is("Block")||e.is("Document")||ee(e)!=null||ur(e)?void 0:(n,a)=>({from:a.doc.lineAt(n.from).to,to:n.to})),Ye.add(ee),D.add({Document:()=>null}),mt.add({Document:Ue})]});function ee(e){let n=/^(?:ATX|Setext)Heading(\d)$/.exec(e.name);return n?+n[1]:void 0}function ur(e){return e.name=="OrderedList"||e.name=="BulletList"}function cr(e,n){let a=e;for(;;){let t=a.nextSibling,r;if(!t||(r=ee(t.type))!=null&&r<=n)break;a=t}return a.to}const dr=lt.of((e,n,a)=>{for(let t=x(e).resolveInner(a,-1);t&&!(t.from<n);t=t.parent){let r=t.type.prop(Ye);if(r==null)continue;let o=cr(t,r);if(o>a)return{from:a,to:o}}return null});function le(e){return new st(Ue,e,[],"markdown")}const mr=le(Ze),pr=Ze.configure([xt,St,Ct,Tt,{props:[E.add({Table:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})})]}]),F=le(pr);function fr(e,n){return a=>{if(a&&e){let t=null;if(a=/\S*/.exec(a)[0],typeof e=="function"?t=e(a):t=ie.matchLanguageName(e,a,!0),t instanceof ie)return t.support?t.support.language.parser:pt.getSkippingParser(t.load());if(t)return t.parser}return n?n.parser:null}}class Z{constructor(n,a,t,r,o,l,s){this.node=n,this.from=a,this.to=t,this.spaceBefore=r,this.spaceAfter=o,this.type=l,this.item=s}blank(n,a=!0){let t=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(n!=null){for(;t.length<n;)t+=" ";return t}else{for(let r=this.to-this.from-t.length-this.spaceAfter.length;r>0;r--)t+=" ";return t+(a?this.spaceAfter:"")}}marker(n,a){let t=this.node.name=="OrderedList"?String(+He(this.item,n)[2]+a):"";return this.spaceBefore+t+this.type+this.spaceAfter}}function Ge(e,n){let a=[],t=[];for(let r=e;r;r=r.parent){if(r.name=="FencedCode")return t;(r.name=="ListItem"||r.name=="Blockquote")&&a.push(r)}for(let r=a.length-1;r>=0;r--){let o=a[r],l,s=n.lineAt(o.from),i=o.from-s.from;if(o.name=="Blockquote"&&(l=/^ *>( ?)/.exec(s.text.slice(i))))t.push(new Z(o,i,i+l[0].length,"",l[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(l=/^( *)\d+([.)])( *)/.exec(s.text.slice(i)))){let d=l[3],u=l[0].length;d.length>=4&&(d=d.slice(0,d.length-4),u-=4),t.push(new Z(o.parent,i,i+u,l[1],d,l[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(l=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(s.text.slice(i)))){let d=l[4],u=l[0].length;d.length>4&&(d=d.slice(0,d.length-4),u-=4);let m=l[2];l[3]&&(m+=l[3].replace(/[xX]/," ")),t.push(new Z(o.parent,i,i+u,l[1],d,m,o))}}return t}function He(e,n){return/^(\s*)(\d+)(?=[.)])/.exec(n.sliceString(e.from,e.from+10))}function G(e,n,a,t=0){for(let r=-1,o=e;;){if(o.name=="ListItem"){let s=He(o,n),i=+s[2];if(r>=0){if(i!=r+1)return;a.push({from:o.from+s[1].length,to:o.from+s[0].length,insert:String(r+2+t)})}r=i}let l=o.nextSibling;if(!l)break;o=l}}function oe(e,n){let a=/^[ \t]*/.exec(e)[0].length;if(!a||n.facet(ut)!="	")return e;let t=N(e,4,a),r="";for(let o=t;o>0;)o>=4?(r+="	",o-=4):(r+=" ",o--);return r+e.slice(a)}const gr=({state:e,dispatch:n})=>{let a=x(e),{doc:t}=e,r=null,o=e.changeByRange(l=>{if(!l.empty||!F.isActiveAt(e,l.from,-1)&&!F.isActiveAt(e,l.from,1))return r={range:l};let s=l.from,i=t.lineAt(s),d=Ge(a.resolveInner(s,-1),t);for(;d.length&&d[d.length-1].from>s-i.from;)d.pop();if(!d.length)return r={range:l};let u=d[d.length-1];if(u.to-u.spaceAfter.length>s-i.from)return r={range:l};let m=s>=u.to-u.spaceAfter.length&&!/\S/.test(i.text.slice(u.to));if(u.item&&m){let b=u.node.firstChild,O=u.node.getChild("ListItem","ListItem");if(b.to>=s||O&&O.to<s||i.from>0&&!/[^\s>]/.test(t.lineAt(i.from-1).text)){let h=d.length>1?d[d.length-2]:null,Q,V="";h&&h.item?(Q=i.from+h.from,V=h.marker(t,1)):Q=i.from+(h?h.to:0);let _=[{from:Q,to:s,insert:V}];return u.node.name=="OrderedList"&&G(u.item,t,_,-2),h&&h.node.name=="OrderedList"&&G(h.item,t,_),{range:T.cursor(Q+V.length),changes:_}}else{let h=Oe(d,e,i);return{range:T.cursor(s+h.length+1),changes:{from:i.from,insert:h+e.lineBreak}}}}if(u.node.name=="Blockquote"&&m&&i.from){let b=t.lineAt(i.from-1),O=/>\s*$/.exec(b.text);if(O&&O.index==u.from){let h=e.changes([{from:b.from+O.index,to:b.to},{from:i.from+u.from,to:i.to}]);return{range:l.map(h),changes:h}}}let f=[];u.node.name=="OrderedList"&&G(u.item,t,f);let p=u.item&&u.item.from<i.from,g="";if(!p||/^[\s\d.)\-+*>]*/.exec(i.text)[0].length>=u.to)for(let b=0,O=d.length-1;b<=O;b++)g+=b==O&&!p?d[b].marker(t,1):d[b].blank(b<O?N(i.text,4,d[b+1].from)-g.length:null);let y=s;for(;y>i.from&&/\s/.test(i.text.charAt(y-i.from-1));)y--;return g=oe(g,e),hr(u.node,e.doc)&&(g=Oe(d,e,i)+e.lineBreak+g),f.push({from:y,to:s,insert:e.lineBreak+g}),{range:T.cursor(y+g.length+1),changes:f}});return r?!1:(n(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function ye(e){return e.name=="QuoteMark"||e.name=="ListMark"}function hr(e,n){if(e.name!="OrderedList"&&e.name!="BulletList")return!1;let a=e.firstChild,t=e.getChild("ListItem","ListItem");if(!t)return!1;let r=n.lineAt(a.to),o=n.lineAt(t.from),l=/^[\s>]*$/.test(r.text);return r.number+(l?0:1)<o.number}function Oe(e,n,a){let t="";for(let r=0,o=e.length-2;r<=o;r++)t+=e[r].blank(r<o?N(a.text,4,e[r+1].from)-t.length:null,r<o);return oe(t,n)}function br(e,n){let a=e.resolveInner(n,-1),t=n;ye(a)&&(t=a.from,a=a.parent);for(let r;r=a.childBefore(t);)if(ye(r))t=r.from;else if(r.name=="OrderedList"||r.name=="BulletList")a=r.lastChild,t=a.to;else break;return a}const yr=({state:e,dispatch:n})=>{let a=x(e),t=null,r=e.changeByRange(o=>{let l=o.from,{doc:s}=e;if(o.empty&&F.isActiveAt(e,o.from)){let i=s.lineAt(l),d=Ge(br(a,l),s);if(d.length){let u=d[d.length-1],m=u.to-u.spaceAfter.length+(u.spaceAfter?1:0);if(l-i.from>m&&!/\S/.test(i.text.slice(m,l-i.from)))return{range:T.cursor(i.from+m),changes:{from:i.from+m,to:l}};if(l-i.from==m&&(!u.item||i.from<=u.item.from||!/\S/.test(i.text.slice(0,u.to)))){let f=i.from+u.from;if(u.item&&u.node.from<u.item.from&&/\S/.test(i.text.slice(u.from,u.to))){let p=u.blank(N(i.text,4,u.to)-N(i.text,4,u.from));return f==i.from&&(p=oe(p,e)),{range:T.cursor(f+p.length),changes:{from:f,to:i.from+u.to,insert:p}}}if(f<l)return{range:T.cursor(f),changes:{from:f,to:l}}}}}return t={range:o}});return t?!1:(n(e.update(r,{scrollIntoView:!0,userEvent:"delete"})),!0)},Or=[{key:"Enter",run:gr},{key:"Backspace",run:yr}],Ke=_e({matchClosingTags:!1});function Lr(e={}){let{codeLanguages:n,defaultCodeLanguage:a,addKeymap:t=!0,base:{parser:r}=mr,completeHTMLTags:o=!0,pasteURLAsLink:l=!0,htmlTagLanguage:s=Ke}=e;if(!(r instanceof Ot))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let i=e.extensions?[e.extensions]:[],d=[s.support,dr],u;l&&d.push(xr),a instanceof A?(d.push(a.support),u=a.language):a&&(u=a);let m=n||u?fr(n,u):void 0;i.push(wt({codeParser:m,htmlParser:s.language.parser})),t&&d.push(ot.high(it.of(Or)));let f=le(r.configure(i));return o&&d.push(f.data.of({autocomplete:wr})),new A(f,d)}function wr(e){let{state:n,pos:a}=e,t=/<[:\-\.\w\u00b7-\uffff]*$/.exec(n.sliceDoc(a-25,a));if(!t)return null;let r=x(n).resolveInner(a,-1);for(;r&&!r.type.isTop;){if(r.name=="CodeBlock"||r.name=="FencedCode"||r.name=="ProcessingInstructionBlock"||r.name=="CommentBlock"||r.name=="Link"||r.name=="Image")return null;r=r.parent}return{from:a-t[0].length,to:a,options:kr(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let H=null;function kr(){if(H)return H;let e=Gt(new ct(dt.create({extensions:Ke}),0,!0));return H=e?e.options:[]}const vr=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,xr=re.domEventHandlers({paste:(e,n)=>{var a;let{main:t}=n.state.selection;if(t.empty)return!1;let r=(a=e.clipboardData)===null||a===void 0?void 0:a.getData("text/plain");if(!r||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(r)||(/^www\./.test(r)&&(r="https://"+r),!F.isActiveAt(n.state,t.from,1)))return!1;let o=x(n.state),l=!1;return o.iterate({from:t.from,to:t.to,enter:s=>{(s.from>t.from||vr.test(s.name))&&(l=!0)},leave:s=>{s.to<t.to&&(l=!0)}}),l?!1:(n.dispatch({changes:[{from:t.from,insert:"["},{from:t.to,insert:`](${r})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),Ir=()=>e=>{try{JSON.parse(e.state.doc.toString())}catch(n){if(!(n instanceof SyntaxError))throw n;const a=Sr(n,e.state.doc);return[{from:a,message:n.message,severity:"error",to:a}]}return[]};function Sr(e,n){let a;return(a=e.message.match(/at position (\d+)/))?Math.min(+a[1],n.length):(a=e.message.match(/at line (\d+) column (\d+)/))?Math.min(n.line(+a[1]).from+ +a[2]-1,n.length):0}const Cr=B.define({name:"json",parser:At.configure({props:[D.add({Object:P({except:/^\s*\}/}),Array:P({except:/^\s*\]/})}),E.add({"Object Array":te})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Er(){return new A(Cr)}export{Ir as a,Er as b,$r as e,Ft as j,Lr as m,Pr as v};
